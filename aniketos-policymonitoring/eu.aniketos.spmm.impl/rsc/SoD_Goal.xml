<?xml version="1.0" encoding="UTF-8"?>
<specification id="SoD_Goal" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="xsd_aniketos.xsd">
  <maxint>32000</maxint>
  <maxlen>1000</maxlen>
  <scope>session</scope>
  <securitystate>
    <declaration>
      <type>string</type>
      <identifier>executor</identifier>
      <value>
        <sconst>_</sconst>
      </value>
    </declaration>
    <declaration>
      <type>string</type>
      <identifier>guardedTask1</identifier>
      <value>
        <sconst>Map</sconst>
      </value>
    </declaration>
    <declaration>
      <type>string</type>
      <identifier>guardedTask2</identifier>
      <value>
        <sconst>PointOfInterest</sconst>
      </value>
    </declaration>
  </securitystate>
  <rule>
    <before>
      <identifier>activity.start</identifier>
      <parameter>
        <type>string</type>
        <identifier>id</identifier>
      </parameter>
      <parameter>
        <type>string</type>
        <identifier>type</identifier>
      </parameter>
      <parameter>
        <type>string</type>
        <identifier>time</identifier>
      </parameter>
      <parameter>
        <type>string</type>
        <identifier>date</identifier>
      </parameter>
      <parameter>
        <type>string</type>
        <identifier>provider</identifier>
      </parameter>
    </before>
    <perform>
      <reaction>
        <guard>
          <and>
            <or>
              <s_equal>
                <s_identifier>id</s_identifier>
                <s_identifier>guardedTask1</s_identifier>
              </s_equal>
              <s_equal>
                <s_identifier>id</s_identifier>
                <s_identifier>guardedTask2</s_identifier>
              </s_equal>
            </or>
            <s_equal>
              <s_identifier>executor</s_identifier>
              <sconst>_</sconst>
            </s_equal>
          </and>
        </guard>
        <update>
          <assign>
            <s_identifier>executor</s_identifier>
            <value>
              <s_identifier>provider</s_identifier>
            </value>
          </assign>
        </update>
      </reaction>
      <reaction>
        <guard>
          <and>
            <or>
              <s_equal>
                <s_identifier>id</s_identifier>
                <s_identifier>guardedTask1</s_identifier>
              </s_equal>
              <s_equal>
                <s_identifier>id</s_identifier>
                <s_identifier>guardedTask2</s_identifier>
              </s_equal>
            </or>
            <and>
              <not>
                <s_equal>
                  <s_identifier>executor</s_identifier>
                  <sconst>_</sconst>
                </s_equal>
              </not>
              <not>
                <s_equal>
                  <s_identifier>provider</s_identifier>
                  <s_identifier>executor</s_identifier>
                </s_equal>
              </not>
            </and>
          </and>
        </guard>
        <update />
      </reaction>
      <reaction>
        <guard>
          <and>
            <not>
              <s_equal>
                <s_identifier>id</s_identifier>
                <s_identifier>guardedTask1</s_identifier>
              </s_equal>
            </not>
            <not>
              <s_equal>
                <s_identifier>id</s_identifier>
                <s_identifier>guardedTask2</s_identifier>
              </s_equal>
            </not>
          </and>
        </guard>
        <update />
      </reaction>
    </perform>
  </rule>
</specification>
